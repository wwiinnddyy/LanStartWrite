<!-- more_decide_ui.html: submenu UI fragments; these are intended to be appended inside .floating-panel so parent relationships remain intact -->
<div class="submenu colors" id="colorMenu" aria-hidden="true" data-pinned="false">
  <div class="submenu-body">
    <div class="colorRow">
      <button class="color" data-color="#ffffff" style="background:#fff;border:1px solid #ccc" title="白"></button>
      <button class="color" data-color="#000000" style="background:#000" title="黑"></button>
      <button class="color" data-color="#FF0000" style="background:#FF0000" title="红(#FF0000)"></button>
      <button class="color" data-color="#0000FF" style="background:#0000FF" title="蓝(#0000FF)"></button>
      <button class="color" data-color="#ff3b30" style="background:#ff3b30" title="红"></button>
      <button class="color" data-color="#ff9500" style="background:#ff9500" title="橙"></button>
      <button class="color" data-color="#ffcc00" style="background:#ffcc00" title="黄"></button>
      <button class="color" data-color="#34c759" style="background:#34c759" title="绿"></button>
      <button class="color" data-color="#007aff" style="background:#007aff" title="蓝"></button>
      <button class="color" data-color="#5856d6" style="background:#5856d6" title="紫"></button>
    </div>
    <div class="sizeControl">
      <label>大小 <input id="size" type="range" min="1" max="50" value="4"></label>
    </div>
    <div class="modeLabel" id="penModeLabel">笔: 黑 / 4</div>
  </div>
  <div class="submenu-footer">
    <button class="submenu-drag-handle" title="拖动子菜单">⋮</button>
    <button class="submenu-pin" title="固定/取消固定">📌</button>
  </div>
</div>

<div class="submenu actions" id="eraserMenu" aria-hidden="true" data-pinned="false">
  <div class="submenu-body">
    <div class="sizeControl">
      <label>橡皮大小 <input id="eraserSize" type="range" min="1" max="100" value="20"></label>
    </div>
    <div class="eraseModes" style="padding-top:6px;display:flex;gap:6px;justify-content:center;flex-wrap:wrap">
      <button id="erasePixel" class="mode-btn erase-mode-btn" data-mode="pixel" title="像素擦除">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><g fill="currentColor"><path d="M15.84 2.661a2.25 2.25 0 0 0-3.19-.023l-9.598 9.508a2.25 2.25 0 0 0 .007 3.204l5.1 5.008a2.25 2.25 0 0 0 3.175-.023l.215-.217a6.5 6.5 0 0 1-.478-1.65l-.803.812a.75.75 0 0 1-1.059.008L4.11 14.28a.75.75 0 0 1-.002-1.068l1.529-1.515l5.377 5.377a6.5 6.5 0 0 1 .362-1.759l-4.673-4.673l7.003-6.938a.75.75 0 0 1 1.064.007l4.91 5.009a.75.75 0 0 1-.003 1.052l-1.276 1.29c.58.08 1.135.237 1.655.46l.687-.695a2.25 2.25 0 0 0 .008-3.158z"/><path d="M19.289 12.297A5.5 5.5 0 1 1 17.473 12m.027 0a5.5 5.5 0 0 1 1.789.297Zm0 0h-.027Z"/></g></svg>
        像素擦除
      </button>
      <button id="eraseStroke" class="mode-btn erase-mode-btn" data-mode="stroke" title="整笔删除">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="m15.87 2.669l4.968 4.968a2.25 2.25 0 0 1 0 3.182l-8.682 8.68l6.098.001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.648.743l-.102.007l-8.41.001a2.24 2.24 0 0 1-1.714-.655l-4.969-4.969a2.25 2.25 0 0 1 0-3.182l9.527-9.526a2.25 2.25 0 0 1 3.182 0M5.708 11.768l-1.486 1.488a.75.75 0 0 0 0 1.06l4.969 4.969c.146.146.338.22.53.22l.029-.005l.038.002a.75.75 0 0 0 .463-.217l1.486-1.487zm8.04-8.039L6.77 10.707l6.03 6.03l6.979-6.978a.75.75 0 0 0 0-1.061L14.81 3.729a.75.75 0 0 0-1.06 0"/></svg>
        整笔删除
      </button>
      <button id="eraseRect" class="mode-btn erase-mode-btn" data-mode="rect" title="矩形擦除">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><g fill="currentColor"><path d="M2 6.75A2.75 2.75 0 0 1 4.75 4h14.5A2.75 2.75 0 0 1 22 6.75v5.786l-.8-.801a2.5 2.5 0 0 0-.7-.493V6.75c0-.69-.56-1.25-1.25-1.25H4.75c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h7.265a2.5 2.5 0 0 0 .561 1.5H4.75A2.75 2.75 0 0 1 2 17.25z"/><path d="M20.492 12.442a1.5 1.5 0 0 0-2.121 0l-3.111 3.11l4.207 4.208l3.11-3.111a1.5 1.5 0 0 0 0-2.122zm-7.039 4.918l1.1-1.1l4.207 4.207l-1.1 1.1a1.5 1.5 0 0 1-2.121 0l-2.086-2.086a1.5 1.5 0 0 1 0-2.122"/></g></svg>
        矩形擦除
      </button>
    </div>
    <div class="modeLabel" id="eraserModeLabel">橡皮模式: 像素擦除</div>
    <div style="padding-top:6px">
      <button id="clear" title="清空画布">清除页面</button>
    </div>
  </div>
  <div class="submenu-footer">
    <button class="submenu-drag-handle" title="拖动子菜单">⋮</button>
    <button class="submenu-pin" title="固定/取消固定">📌</button>
  </div>
</div>

<div class="submenu actions" id="moreMenu" aria-hidden="true" data-pinned="false">
  <div class="submenu-content more-split">
    <div class="more-region more-left" aria-label="功能库">
      <div class="more-title">功能库</div>
      <div class="submenu-quick" role="toolbar" aria-label="功能库快捷功能">
        <div class="submenu-quick-grid" id="moreMenuQuickGrid"></div>
      </div>
    </div>
    <div class="more-divider" aria-hidden="true"></div>
    <div class="more-region more-right" aria-label="更多设置">
      <div class="more-title">更多设置</div>
      <div class="submenu-body">
        <button id="noteExportBtn" class="mode-btn">导出 .cubenote</button>
        <button id="noteImportBtn" class="mode-btn">导入 .cubenote</button>
        <button id="settingsBtn" class="mode-btn">设置</button>
        <button id="pluginManagerBtn" class="mode-btn">插件</button>
        <button id="aboutBtn" class="mode-btn">关于</button>
        <button id="closeWhiteboardBtn" class="mode-btn">关闭白板</button>
      </div>
    </div>
  </div>
  <div class="submenu-footer">
    <button class="submenu-drag-handle" title="拖动子菜单">⋮</button>
    <button class="submenu-pin" title="固定/取消固定">📌</button>
  </div>
</div>

<div id="resourceModal" class="settings-modal resource-modal" role="dialog" aria-hidden="true">
  <div class="settings-backdrop"></div>
  <div class="settings-panel resource-panel" aria-modal="true" aria-label="资源库管理">
    <div class="settings-header">
      <h3>资源库</h3>
      <button id="closeResourceModal" class="tool-btn" aria-label="关闭">✕</button>
    </div>
    <div class="settings-body resource-body">
      <div class="resource-layout">
        <div class="resource-sort">
          <div class="resource-hint">拖拽排序，实时预览</div>
          <div id="resourceList" class="resource-list" role="list"></div>
        </div>
        <div class="resource-preview" aria-label="预览">
          <div class="resource-preview-title">预览</div>
          <div id="resourcePreviewGrid" class="resource-preview-grid"></div>
        </div>
      </div>
    </div>
    <div class="resource-footer">
      <button id="resourceResetBtn" class="mode-btn" type="button">恢复默认</button>
      <button id="resourceSaveBtn" class="md3-button filled" type="button">保存排序</button>
    </div>
  </div>
</div>
